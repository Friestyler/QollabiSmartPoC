<!DOCTYPE html>
<html>
<head>
    <title>Baloise</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <nav>
        <a href="/admin">Admin</a>
        <a href="/degoudse">De Goudse</a>
        <a href="/baloise">Baloise</a>
    </nav>

    <div class="content-container">
        <!-- Section 1 -->
        <div class="section-container">
            <h3 id="baloise-title-1">Title will appear here</h3>
            <div class="content-frame">
                <iframe id="baloise-frame-1" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Section 2 -->
        <div class="section-container">
            <h3 id="baloise-title-2">Title will appear here</h3>
            <div class="content-frame">
                <iframe id="baloise-frame-2" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Section 3 -->
        <div class="section-container">
            <h3 id="baloise-title-3">Title will appear here</h3>
            <div class="content-frame">
                <iframe id="baloise-frame-3" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Section 4 -->
        <div class="section-container">
            <h3 id="baloise-title-4">Title will appear here</h3>
            <div class="content-frame">
                <iframe id="baloise-frame-4" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Section 5 (Rich Text Content) -->
        <div class="section-container">
            <h3>Additional Information</h3>
            <div id="baloise-text-content-5" class="rich-text-content"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/get_baloise_settings')
                .then(response => response.json())
                .then(data => {
                    console.log('Data received:', data);
                    
                    // Handle sections 1-4
                    for(let i = 0; i < 4; i++) {
                        const titleElement = document.getElementById(`baloise-title-${i+1}`);
                        const frameElement = document.getElementById(`baloise-frame-${i+1}`);
                        
                        if (data[i] && titleElement) {
                            titleElement.textContent = data[i].title || 'No title set';
                            if (data[i].link) frameElement.src = data[i].link;
                        }
                    }

                    // Handle section 5 (rich text)
                    const contentElement = document.getElementById('baloise-text-content-5');
                    if (data[4] && contentElement) {
                        contentElement.innerHTML = data[4].content || '';
                    }
                })
                .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>
